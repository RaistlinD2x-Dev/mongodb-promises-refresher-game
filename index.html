<head>

</head>
<body>
    <button>Click</button>

    <script>
        const startGame = () => {
            let counter = 0;

            document.querySelector('button').addEventListener('click', () => {
                ++counter;
            });

            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    if(counter > 5) {
                        resolve();
                    } else {
                        reject();
                    }
                }, 2000)
            })
        }

        startGame()
            .then(() => alert('You win!'))
            .catch(() => alert('You lose!'))


        // synchronous junk --------------------------------
        // let counter = 0;

        // document.querySelector('button').addEventListener('click', () => {
        //     ++counter;
        // });

        // setTimeout(() => {
        //     if(counter > 5) {
        //         alert('You win! You clicked ' + counter + ' number of times.') 
        //     } else {
        //         alert('Sorry, you lose!')
        //     }
        // }, 2000)



        // console.log('game is starting...')
    </script>
</body>